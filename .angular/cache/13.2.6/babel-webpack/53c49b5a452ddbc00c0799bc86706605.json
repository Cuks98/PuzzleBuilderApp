{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\filip\\\\Desktop\\\\Angular\\\\puzzle\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../user.service\";\nimport * as i3 from \"primeng/card\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"primeng/inputtext\";\nimport * as i6 from \"primeng/password\";\nimport * as i7 from \"primeng/button\";\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(router, userService) {\n      this.router = router;\n      this.userService = userService;\n      this.key = \"username\";\n      this.userName = \"Login\";\n      this.password = \"\";\n      this.apiRes = false;\n    }\n\n    ngOnInit() {}\n\n    login() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        _this.userName = document.getElementById('username').value;\n        _this.password = document.getElementById('password').value; // this.userService.getUser(this.userName).subscribe({\n        //   next: res=>{\n        //     this.apiRes = res\n        //   },\n        //   error: err => console.error(err)\n        // })\n        // console.log(this.apiRes)\n\n        debugger; //this.userService.getUser2(\"test\", \"test\");\n\n        const bool = (yield _this.userService.getUser3()).subscribe(data => {\n          console.log(data);\n          data.users.forEach(user => {\n            if (user[\"username\"] == _this.userName) {\n              console.log(true);\n              localStorage.setItem(_this.key, _this.userName);\n\n              _this.router.navigateByUrl('/welcome');\n            } else {\n              console.log(false);\n            }\n          });\n        });\n        console.log(bool); //console.log(this.data);\n        //this.router.navigateByUrl('/welcome');\n\n        localStorage.setItem(_this.key, _this.userName); // this.puzzleService.getMostPlayedPuzzles().subscribe({\n        //   next: puzzles => {\n        //     this.puzzles = puzzles;\n        //     this.puzles = puzzles;\n        //     console.log(this.puzzles[0].image);\n        //   },\n        //   error: err => console.error(err)\n        // })\n        // console.log(this.puzles);\n      })();\n    }\n\n  }\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 19,\n    vars: 3,\n    consts: [[1, \"pCardWrapper\"], [\"header\", \"Login\", \"styleClass\", \"p-card-shadow\"], [1, \"inputWrapper\"], [\"for\", \"username\"], [\"name\", \"username\", \"type\", \"text\", \"placeholder\", \"Username\", \"id\", \"username\", \"pInputText\", \"\"], [\"for\", \"password\"], [\"name\", \"password\", \"placeholder\", \"Password\", \"id\", \"password\", 3, \"toggleMask\", \"feedback\", \"ngModel\", \"ngModelChange\"], [1, \"linkWrapper\"], [\"href\", \"#\"], [\"href\", \"#\", \"routerLink\", \"/register\"], [1, \"buttonWrapper\"], [\"label\", \"Login\", 3, \"onClick\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"p-card\", 1)(2, \"div\", 2)(3, \"form\")(4, \"label\", 3);\n        i0.ɵɵtext(5, \"Username:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"br\")(7, \"input\", 4);\n        i0.ɵɵelementStart(8, \"label\", 5);\n        i0.ɵɵtext(9, \"Password:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"br\");\n        i0.ɵɵelementStart(11, \"p-password\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_p_password_ngModelChange_11_listener($event) {\n          return ctx.value4 = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(12, \"div\", 7)(13, \"a\", 8);\n        i0.ɵɵtext(14, \"Forrgot password?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"a\", 9);\n        i0.ɵɵtext(16, \"Need an account?\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"div\", 10)(18, \"p-button\", 11);\n        i0.ɵɵlistener(\"onClick\", function LoginComponent_Template_p_button_onClick_18_listener() {\n          return ctx.login();\n        });\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"toggleMask\", true)(\"feedback\", false)(\"ngModel\", ctx.value4);\n      }\n    },\n    directives: [i3.Card, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i5.InputText, i6.Password, i4.NgControlStatus, i4.NgModel, i1.RouterLinkWithHref, i7.Button],\n    styles: [\".pCardWrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:87.3vh}[_nghost-%COMP%]     p-card{width:360px}[_nghost-%COMP%]     .p-inputtext{width:100%!important;margin:5px 0}[_nghost-%COMP%]     .p-password{width:100%;margin:5px 0}.linkWrapper[_ngcontent-%COMP%]{text-align:center;padding:10px 0}.linkWrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;margin-bottom:3px}.linkWrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#00f}.buttonWrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:5px 0}[_nghost-%COMP%]     .buttonWrapper .p-button{background-color:var(--background-color);border-color:var(--background-color);min-width:120px}[_nghost-%COMP%]     .buttonWrapper .p-button:hover{background-color:var(--hover-color);border-color:var(--hover-color)}@media screen and (max-width: 380px){[_nghost-%COMP%]     p-card{max-width:100%!important;width:100%}}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}